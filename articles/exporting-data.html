<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="smartabaseR">
<title>Exporting Data • smartabaseR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Exporting Data">
<meta property="og:description" content="smartabaseR">
<meta property="og:image" content="https://teamworksapp.github.io/smartabaseR/logo.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@zac_pross">
<meta name="twitter:site" content="@zac_pross">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">smartabaseR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.10</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/get-started.html">Get Started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/credentials.html">Credential management</a>
    <a class="dropdown-item" href="../articles/exporting-data.html">Exporting data</a>
    <a class="dropdown-item" href="../articles/synchronising-with-smartabase.html">Synchronsing with Smartabase</a>
    <a class="dropdown-item" href="../articles/importing-data.html">Importing data</a>
    <a class="dropdown-item" href="../articles/deleting-data.html">Deleting data</a>
    <a class="dropdown-item" href="../articles/helper-functions.html">Helper functions</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Teamworksapp/smartabaseR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Exporting Data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Teamworksapp/smartabaseR/blob/HEAD/vignettes/exporting-data.Rmd" class="external-link"><code>vignettes/exporting-data.Rmd</code></a></small>
      <div class="d-none name"><code>exporting-data.Rmd</code></div>
    </div>

    
    
<p>If you haven’t already, please read the
<code><a href="../articles/get-started.html">vignette("get-started")</a></code> vignette before proceeding.</p>
<p><code><a href="../reference/sb_get_event.html">sb_get_event()</a></code>, <code><a href="../reference/sb_get_profile.html">sb_get_profile()</a></code>,
<code>sb_get_id()</code> and <code><a href="../reference/sb_sync_event.html">sb_sync_event()</a></code> all leverage
the Smartabase API to get event data out of Smartabase and into your R
session. While only <code><a href="../reference/sb_get_event.html">sb_get_event()</a></code> requires a
<code>date_range</code> value, all export functions contain
<code>filter</code> and <code>option</code> arguments. These arguments
allow you to extract only the data you need, which means better
performance.</p>
<div class="section level2">
<h2 id="date_range">
<code>date_range</code><a class="anchor" aria-label="anchor" href="#date_range"></a>
</h2>
<p>You must supply every call to <code><a href="../reference/sb_get_event.html">sb_get_event()</a></code> with a
<code>date_range</code> value. For example, to export event data with
event dates between March 1st 2023 to March 7th 2023, we would
write:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example Form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>A valid <code>date_range</code> value must be a vector of length 2
containing a <code>start_date</code> and an <code>end_date</code>
formatted in dd/mm/YYYY. They must also be character types (so, not
produced by <code><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date()</a></code>, for instance) and the
<code>end_date</code> must not occur before the
<code>start_date</code>.</p>
<div class="section level3">
<h3 id="sb_date_range">
<code>sb_date_range()</code><a class="anchor" aria-label="anchor" href="#sb_date_range"></a>
</h3>
<p>Sometimes it’s easier to think about date ranges in relative terms
from today
(i.e. <code>format(lubridate::today(), "%d/%m/%Y)</code>).</p>
<p><code><a href="../reference/sb_date_range.html">sb_date_range()</a></code> sets the <code>end_date</code> to today
by default and supplies a <code>start_date</code> depending on how far
you want to look back. For instance, if we want data from the last
week:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_date_range.html">sb_date_range</a></span><span class="op">(</span>duration_value <span class="op">=</span> <span class="st">"7"</span>, duration_unit <span class="op">=</span> <span class="st">"days"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   start_date     end_date </span></span>
<span><span class="co">#&gt; "15/04/2023" "22/04/2023"</span></span></code></pre>
<p>In a call to <code><a href="../reference/sb_get_event.html">sb_get_event()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example Form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="../reference/sb_date_range.html">sb_date_range</a></span><span class="op">(</span><span class="st">"7"</span>, <span class="st">"days"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>You can also set your own <code>end_date</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example Form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="../reference/sb_date_range.html">sb_date_range</a></span><span class="op">(</span><span class="st">"7"</span>, <span class="st">"days"</span>, end_date <span class="op">=</span> <span class="st">"31/12/1999"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="time_range">
<code>time_range</code><a class="anchor" aria-label="anchor" href="#time_range"></a>
</h2>
<p>You can also optionally supply a <code>time_range</code> value. By
default it is set to
<code>time_range = c("12:00 am", "11:59 pm")</code>, which doesn’t
filter out any events based on event time. However in the situation that
you require to export events that occurred within specific times of the
day, you can manually supply a <code>time_range</code> value like
so:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example Form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"01/03/2023"</span><span class="op">)</span>,</span>
<span>  time_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"12:45 PM"</span>, <span class="st">"1:15 PM"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Which would only export events that started on March 1st between
12:45 PM and 1:15 PM. <code>time_range</code> has the same rules as the
<code>date_range</code> arguments, except of course we must now use time
notation. The Smartabase API requires that the format be h:mm AM/PM.</p>
</div>
<div class="section level2">
<h2 id="filter">
<code>filter</code><a class="anchor" aria-label="anchor" href="#filter"></a>
</h2>
<p>All <code>filter</code> values must be generated by the relevant
helper function. So, if we’re using <code><a href="../reference/sb_get_event.html">sb_get_event()</a></code> to
export data only for the athlete <code>Jamie Anderson</code>, we would
need to use <code><a href="../reference/sb_get_event_filter.html">sb_get_event_filter()</a></code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example Form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span></span>
<span>    user_key <span class="op">=</span> <span class="st">"about"</span>,</span>
<span>    user_value <span class="op">=</span> <span class="st">"Jamie Anderson"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Each export function has an associated filter function:</p>
<ul>
<li><code>sb_sync_event(..., filter = sb_sync_event_filter())</code></li>
<li><code>sb_get_profile(..., filter = sb_get_profile_filter())</code></li>
<li><code>sb_get_id(..., filter = sb_get_id_filter())</code></li>
<li>etc…</li>
</ul>
<p>Below goes into more detail about each available filter.</p>
<div class="section level3">
<h3 id="user-filtering">User filtering<a class="anchor" aria-label="anchor" href="#user-filtering"></a>
</h3>
<p>Note: this section applies to both <code><a href="../reference/sb_get_event.html">sb_get_event()</a></code> and
<code><a href="../reference/sb_get_profile.html">sb_get_profile()</a></code>.</p>
<p><code>user_key</code> and <code>user_value</code> allow you to filter
event/profile data for specific Smartabase users.</p>
<p><code>user_key</code> represents the user identification method:
<code>"about"</code>, <code>"user_id"</code>, <code>"username"</code> or
<code>"email"</code>.</p>
<p>If we wanted to filter for the athlete “Aiden Thomas” then we”d set
<code>user_key = "about"</code> and
<code>user_value = "Aiden Thomas"</code>.</p>
<p><strong>about</strong></p>
<p>If <code>user_key = "about"</code>, <code>data_value</code> accepts
<em>full names</em>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example event form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span></span>
<span>    user_key <span class="op">=</span> <span class="st">"about"</span>,</span>
<span>    user_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Aiden Thomas"</span>, <span class="st">"Jamie Anderson"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>user_id</strong></p>
<p>If <code>user_key = "user_id"</code>, <code>user_value</code> accepts
Smartabase <em>user IDs</em>.</p>
<p>Note: Smartabase user IDs are automatically generated by the system
and may be different to Smartabase UUIDs, which can be manually set in
the Smartabase admin site.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example event form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span> </span>
<span>    user_key <span class="op">=</span> <span class="st">"user_id"</span>,</span>
<span>    user_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">37204</span>, <span class="fl">37201</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>username</strong></p>
<p>If <code>user_key = "username"</code>, <code>user_value</code>
accepts Smartabase <em>usernames</em>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example event form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span> </span>
<span>    user_key   <span class="op">=</span> <span class="st">"username"</span>,</span>
<span>    user_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aiden.thomas"</span>, <span class="st">"jamie.anderson"</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>email</strong></p>
<p>If <code>user_key = "email"</code>, <code>user_value</code> accepts
users’ <em>emails</em>, as recorded on Smartabase.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example event form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span></span>
<span>    user_key <span class="op">=</span> <span class="st">"email"</span>,</span>
<span>    user_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aiden.thomas@teamworks.com"</span>, </span>
<span>                   <span class="st">"jamie.anderson@teamworks.com"</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>current_group</strong></p>
<p>If <code>user_key = "current_group"</code>, the Smartabase API will
look for whatever Smartabase group was loaded when you last logged into
Smartabase. Data will then only be exported for these users.
<code>user_value</code> is ignored.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example event form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span></span>
<span>    user_key <span class="op">=</span> <span class="st">"current_group"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>group</strong></p>
<p>If <code>user_key = "group"</code>, <code>user_value</code> accepts
the name of a Smartabase <code>group</code>. Data will then only be
exported for users in that Smartabase group.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example event form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span> </span>
<span>    user_key <span class="op">=</span> <span class="st">"group"</span>,</span>
<span>    user_value <span class="op">=</span> <span class="st">"Demo Users"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>To see a list of Smartabase groups that you have access to, use the
<code><a href="../reference/sb_get_group.html">sb_get_group()</a></code> function. For more details, see
<code>vignette(helper-functions)</code>.</p>
</div>
<div class="section level3">
<h3 id="data-filtering">Data filtering<a class="anchor" aria-label="anchor" href="#data-filtering"></a>
</h3>
<p>Note: profile forms don’t allow data filtering. This section only
applies to <code><a href="../reference/sb_get_event.html">sb_get_event()</a></code>.</p>
<div class="section level4">
<h4 id="data_key-data_value">data_key / data_value<a class="anchor" aria-label="anchor" href="#data_key-data_value"></a>
</h4>
<p><code>data_key</code> and <code>data_value</code> allow you to filter
the data according to certain rules.</p>
<p>For example, if you had a “Training Log” form with an “Duration”
field, and you only want to export data where Duration was equal to
“35”, your <code><a href="../reference/sb_get_event.html">sb_get_event()</a></code> call may look like this</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Training Log"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span> </span>
<span>    data_key <span class="op">=</span> <span class="st">"Duration"</span>,</span>
<span>    data_value <span class="op">=</span> <span class="st">"35"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="data_condition">data_condition<a class="anchor" aria-label="anchor" href="#data_condition"></a>
</h4>
<p>By default, records that are <em>equal to</em>
<code>data_value</code> will be exported. However, you may want to
export records where, for example, Duration is greater than “35”. You
can achieve this by supplying “greater_than” to the
<code>data_condition</code> argument:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Training Log"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span> </span>
<span>    data_key <span class="op">=</span> <span class="st">"Duration"</span>,</span>
<span>    data_value <span class="op">=</span> <span class="st">"35"</span>,</span>
<span>    data_condition <span class="op">=</span> <span class="st">"greater_than"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><code>data_condition</code> accepts any of the following values:</p>
<ul>
<li><code>"equal_to"</code></li>
<li><code>"not_equal_to"</code></li>
<li><code>"greater_than"</code></li>
<li><code>"less_than"</code></li>
<li><code>"greater_than_or_equal_to"</code></li>
<li><code>"less_than_or_equal_to"</code></li>
<li><code>"contains"</code></li>
</ul>
<p>Note that the “greater_than”, “greater_than_or_equal_to”, “less_than”
and “less_than_or_equal_to” operators will only work on number
fields.</p>
<p>You can use multiple filters in the same call to
<code><a href="../reference/sb_get_event.html">sb_get_event()</a></code>. For example, if we only wanted events where
<code>Duration &lt; 25</code> AND <code>RPE &gt; 6</code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Training Log"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span> </span>
<span>    data_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Duration"</span>, <span class="st">"RPE"</span><span class="op">)</span>,</span>
<span>    data_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"25"</span>, <span class="st">"6"</span><span class="op">)</span>,</span>
<span>    data_condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"less_than"</span>, <span class="st">"greater_than"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Just be aware that the API will look data that meet ALL criterion.
Practically this tends to mean it makes no sense to create competing
conditions for a single Smartabase field:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Training Log"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span> </span>
<span>    data_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Duration"</span>, <span class="st">"Duration"</span><span class="op">)</span>,</span>
<span>    data_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"25"</span>, <span class="st">"6"</span><span class="op">)</span>,</span>
<span>    data_condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"greater_than"</span>, <span class="st">"less_than"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 0 × 0</span></span></span></code></pre>
<p>It’s impossible to have a Duration value that is both greater than 25
and less than 6, so the API returns nothing.</p>
<p>Also note that <code>data_key</code>, <code>data_condition</code> and
<code>data_value</code> must be the same length.</p>
</div>
</div>
<div class="section level3">
<h3 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h3>
<p>Below are some examples of filtering for both multiple users and
multiple conditions in the one <code><a href="../reference/sb_get_event.html">sb_get_event()</a></code> call.</p>
<div class="section level4">
<h4 id="filter-example-1">Filter example 1<a class="anchor" aria-label="anchor" href="#filter-example-1"></a>
</h4>
<p>If we want to filter for 1) “Aiden Thomas” and “Jamie Anderson” using
their emails and 2) events where Duration is less than “25” minutes and
RPE is greater than or equal to “6”, then our
<code><a href="../reference/sb_get_event.html">sb_get_event()</a></code> call would look like this:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Training Log"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span> </span>
<span>    user_key <span class="op">=</span> <span class="st">"email"</span>,</span>
<span>    user_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"aiden.thomas@teamworks"</span>, <span class="st">"jamie.anderson@teamworks"</span><span class="op">)</span>,</span>
<span>    data_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Duration"</span>, <span class="st">"Duration"</span><span class="op">)</span>,</span>
<span>    data_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"25"</span>, <span class="st">"6"</span><span class="op">)</span>,</span>
<span>    data_condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"greater_than"</span>, <span class="st">"less_than"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="filter-example-2">Filter example 2<a class="anchor" aria-label="anchor" href="#filter-example-2"></a>
</h4>
<p>Alternatively, if we wanted data for 1) “Aiden Thomas” and “Jamie
Anderson” using their full names and 2) events where Duration is <em>not
equal</em> to “50” minutes and RPE <em>contains</em> the word
“Hard”:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Training Log"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span> </span>
<span>    user_key <span class="op">=</span> <span class="st">"email"</span>,</span>
<span>    user_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Aiden Thomas"</span>, <span class="st">"Jamie Anderson"</span><span class="op">)</span>,</span>
<span>    data_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Duration"</span>, <span class="st">"RPE"</span><span class="op">)</span>,</span>
<span>    data_value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"50"</span>, <span class="st">"Hard"</span><span class="op">)</span>,</span>
<span>    data_condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"not_equal_to"</span>, <span class="st">"contains"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="option">
<code>option</code><a class="anchor" aria-label="anchor" href="#option"></a>
</h2>
<p>All <code>option</code> values must be generated by the relevant
helper function. So, if we’re using <code><a href="../reference/sb_get_event.html">sb_get_event()</a></code> to
export data but we want every column to be a string, we could use
<code>sb_get_event_option(guess_col_type = FALSE)</code>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example Form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01/03/2023"</span>, <span class="st">"07/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  option <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_option.html">sb_get_event_option</a></span><span class="op">(</span></span>
<span>    guess_col_type <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Each export function has an associated option function:</p>
<ul>
<li><code>sb_sync_event(..., option = sb_sync_event_option())</code></li>
<li><code>sb_get_profile(..., option = sb_get_profile_option())</code></li>
<li><code>sb_get_id(..., option = sb_get_id_option())</code></li>
<li>etc…</li>
</ul>
<p>Below goes into more detail about each available option.</p>
<div class="section level3">
<h3 id="cache">
<code>cache</code><a class="anchor" aria-label="anchor" href="#cache"></a>
</h3>
<p>The first time you call the Smartabase API within a given R session,
<code>smartabaseR</code> makes a call to <code><a href="../reference/sb_login.html">sb_login()</a></code>. If the
<code>cache</code> option is set to <code>TRUE</code> (default), then
this login object is then saved into memory and passed to further calls
to the Smartabase API. If the <code>cache</code> option is
<code>FALSE</code>, then each subsequent call to the Smartabase API will
be preceded by a call to <code><a href="../reference/sb_login.html">sb_login()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="download_attachment">
<code>download_attachment</code><a class="anchor" aria-label="anchor" href="#download_attachment"></a>
</h3>
<p>If you are exporting data that contains a file upload field, you can
download any uploaded files to your local machine by setting the
<code>download_attachment = TRUE</code>. Smartabase will return the
event data as well as any associated files, which are downloaded to the
current directory.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Example Form"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"17/03/2023"</span>, <span class="st">"17/03/2023"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  option <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_option.html">sb_get_event_option</a></span><span class="op">(</span></span>
<span>    download_attachment <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Hydration (SS) attachment download successful: 5 out of 5 files (80.01kb total) saved to C:/Users/ZacPross/Example_directory</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Hydration (SS) export successful (17/03/2023 - 17/03/2023).</span></span></code></pre>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 12</span></span></span>
<span><span class="co">#&gt;   about         user_id form  start_date File  Distance   RPE entered_by_user_id</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Jamie Anders…   <span style="text-decoration: underline;">37</span>201 Exam… 18/04/2023 1234…     <span style="text-decoration: underline;">3</span>100     7              <span style="text-decoration: underline;">37</span>201</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 4 more variables: event_id &lt;dbl&gt;, file_name &lt;chr&gt;, attachment_url &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   name &lt;chr&gt;</span></span></span></code></pre>
</div>
<div class="section level3">
<h3 id="include_missing_users">
<code>include_missing_users</code><a class="anchor" aria-label="anchor" href="#include_missing_users"></a>
</h3>
<p>If an athlete has no data stored against them (or the requested
<code>date_range</code>, then the Smartabase API won’t return any event
data about that athlete.</p>
<p>But sometimes it’s interesting to include rows about athletes that
have no data stored against them. For instance, let’s say we want to get
data from “Training Log” for the last 2 days and include all athletes
from the “Demo Group”, irrespective if they have data in “Training Log”
for those 2 days:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="fu">sb_get_event</span>(</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>  <span class="at">form =</span> <span class="st">"Training Log"</span>,</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>  <span class="at">date_range =</span> <span class="fu">sb_date_range</span>(<span class="st">"2"</span>, <span class="st">"days"</span>),</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>  <span class="at">username =</span> <span class="st">"example.username"</span>,</span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a>  <span class="at">password =</span> <span class="st">"example_password"</span>,</span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a>  <span class="at">filter =</span> <span class="fu">sb_get_event_filter</span>(</span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a>    <span class="at">user_key =</span> <span class="st">"group"</span>,</span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a>    <span class="at">user_value =</span> <span class="st">"Demo Group"</span></span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a>  )</span>
<span id="cb25-11"><a href="#cb25-11" tabindex="-1"></a>  <span class="at">option =</span> <span class="fu">sb_get_event_option</span>(</span>
<span id="cb25-12"><a href="#cb25-12" tabindex="-1"></a>    <span class="at">include_missing_users =</span> <span class="cn">TRUE</span></span>
<span id="cb25-13"><a href="#cb25-13" tabindex="-1"></a>  )</span>
<span id="cb25-14"><a href="#cb25-14" tabindex="-1"></a>)</span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 8</span></span></span>
<span><span class="co">#&gt;   about      user_id form  start_date Distance   RPE entered_by_user_id event_id</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Charlie T…   <span style="text-decoration: underline;">31</span>808 Exam… 15/04/2023     <span style="text-decoration: underline;">5</span>411     7              <span style="text-decoration: underline;">37</span>201    <span style="text-decoration: underline;">16</span>517</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Jack Will…   <span style="text-decoration: underline;">31</span>811 Exam… 15/04/2023     <span style="text-decoration: underline;">2</span>374     3              <span style="text-decoration: underline;">37</span>201    <span style="text-decoration: underline;">36</span>505</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Jamie And…   <span style="text-decoration: underline;">37</span>201 <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>               <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>                 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Liam Walk…   <span style="text-decoration: underline;">37</span>204 <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>               <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>                 <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span></span></span></code></pre>
<p>Jamie Anderson and Liam Walker haven’t entered any data, which could
prove relevant information for data quality reporting.</p>
</div>
<div class="section level3">
<h3 id="guess_col_type">
<code>guess_col_type</code><a class="anchor" aria-label="anchor" href="#guess_col_type"></a>
</h3>
<p>By default, <code><a href="../reference/sb_get_event.html">sb_get_event()</a></code> and
<code><a href="../reference/sb_get_profile.html">sb_get_profile()</a></code> guess the data type of each column. For
example, setting <code>guess_col_type = TRUE</code>:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="fu">sb_get_event</span>(</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>  <span class="at">form =</span> <span class="st">"Training Log"</span>,</span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>  <span class="at">date_range =</span> <span class="fu">sb_date_range</span>(<span class="st">"2"</span>, <span class="st">"days"</span>),</span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a>  <span class="at">username =</span> <span class="st">"example.username"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a>  <span class="at">password =</span> <span class="st">"example_password"</span>,</span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a>  <span class="at">filter =</span> <span class="fu">sb_get_event_filter</span>(</span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a>    <span class="at">user_key =</span> <span class="st">"about"</span>,</span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a>    <span class="at">user_value =</span> <span class="st">"Charlie Thompson"</span></span>
<span id="cb27-10"><a href="#cb27-10" tabindex="-1"></a>  )</span>
<span id="cb27-11"><a href="#cb27-11" tabindex="-1"></a>  <span class="at">option =</span> <span class="fu">sb_get_event_option</span>(</span>
<span id="cb27-12"><a href="#cb27-12" tabindex="-1"></a>    <span class="at">guess_col_type =</span> <span class="cn">TRUE</span></span>
<span id="cb27-13"><a href="#cb27-13" tabindex="-1"></a>  )</span>
<span id="cb27-14"><a href="#cb27-14" tabindex="-1"></a>)</span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 9</span></span></span>
<span><span class="co">#&gt;   about            user_id form      start_date `Date of Session` Distance   RPE</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Charlie Thompson   <span style="text-decoration: underline;">31</span>808 Example … 15/04/2023 15/04/2023            <span style="text-decoration: underline;">5</span>411     7</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: entered_by_user_id &lt;dbl&gt;, event_id &lt;dbl&gt;</span></span></span></code></pre>
<p>Notice how in the tibble above the <code>about</code> column has
<code>&lt;chr&gt;</code> at the top. This means that the column is
<code>character</code> type. The <code>Distance</code> column has
<code>&lt;dbl&gt;</code> at the top, which means it contains numeric
data.</p>
<p>However, if you don’t want <code><a href="../reference/sb_get_event.html">sb_get_event()</a></code> to guess the
column types, and you’d prefer each column to come through as character
types, set <code>guess_col_type = FALSE</code>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="fu">sb_get_event</span>(</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a>  <span class="at">form =</span> <span class="st">"Training Log"</span>,</span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a>  <span class="at">date_range =</span> <span class="fu">sb_date_range</span>(<span class="st">"2"</span>, <span class="st">"days"</span>),</span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a>  <span class="at">username =</span> <span class="st">"example.username"</span>,</span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a>  <span class="at">password =</span> <span class="st">"example_password"</span>,</span>
<span id="cb29-7"><a href="#cb29-7" tabindex="-1"></a>  <span class="at">filter =</span> <span class="fu">sb_get_event_filter</span>(</span>
<span id="cb29-8"><a href="#cb29-8" tabindex="-1"></a>    <span class="at">user_key =</span> <span class="st">"about"</span>,</span>
<span id="cb29-9"><a href="#cb29-9" tabindex="-1"></a>    <span class="at">user_value =</span> <span class="st">"Charlie Thompson"</span></span>
<span id="cb29-10"><a href="#cb29-10" tabindex="-1"></a>  )</span>
<span id="cb29-11"><a href="#cb29-11" tabindex="-1"></a>  <span class="at">option =</span> <span class="fu">sb_get_event_option</span>(</span>
<span id="cb29-12"><a href="#cb29-12" tabindex="-1"></a>    <span class="at">guess_col_type =</span> <span class="cn">FALSE</span></span>
<span id="cb29-13"><a href="#cb29-13" tabindex="-1"></a>  )</span>
<span id="cb29-14"><a href="#cb29-14" tabindex="-1"></a>)</span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 10</span></span></span>
<span><span class="co">#&gt;   about       user_id form  start_date end_date `Date of Session` Distance RPE  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Charlie Th…   <span style="text-decoration: underline;">31</span>808 Exam… 15/04/2023 17/04/2… 1555288875000     5411     7    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: entered_by_user_id &lt;dbl&gt;, event_id &lt;dbl&gt;</span></span></span></code></pre>
<p>Notice how the <code>Distance</code> column is now
<code>&lt;chr&gt;</code>, whereas before it was
<code>&lt;dbl&gt;</code>.</p>
<p>A few other things to note:</p>
<ul>
<li>The metadata columns <code>user_id</code>,
<code>entered_by_user_id</code> and <code>event_id</code> are not
affected by the <code>guess_col_type</code> argument – they will always
come through as numeric.</li>
<li>Event dates will always be exported as character types since it’s
required when importing back into Smartabase.</li>
</ul>
</div>
<div class="section level3">
<h3 id="interactive_mode">
<code>interactive_mode</code><a class="anchor" aria-label="anchor" href="#interactive_mode"></a>
</h3>
<p><code><a href="../reference/sb_get_event.html">sb_get_event()</a></code> and <code><a href="../reference/sb_get_profile.html">sb_get_profile()</a></code> accept
an input called <code>interactive_mode</code>. If
<code>interactive_mode = FALSE</code>, no messages will be printed to
screen. This is for when the package is being run in automated
environments. In these situations you may want to minimise progress
messages clogging up logs.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sb_get_event.html">sb_get_event</a></span><span class="op">(</span></span>
<span>  form <span class="op">=</span> <span class="st">"Training Log"</span>,</span>
<span>  date_range <span class="op">=</span> <span class="fu"><a href="../reference/sb_date_range.html">sb_date_range</a></span><span class="op">(</span><span class="st">"2"</span>, <span class="st">"days"</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="st">"example.smartabase.com/site"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"example.username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"example_password"</span>,</span>
<span>  filter <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_filter.html">sb_get_event_filter</a></span><span class="op">(</span></span>
<span>    user_key <span class="op">=</span> <span class="st">"about"</span>,</span>
<span>    user_value <span class="op">=</span> <span class="st">"Charlie Thompson"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  option <span class="op">=</span> <span class="fu"><a href="../reference/sb_get_event_option.html">sb_get_event_option</a></span><span class="op">(</span></span>
<span>    interactive_mode <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://au.linkedin.com/in/zac-pross" class="external-link">Zac Pross</a>, <a href="https://au.linkedin.com/in/james-day-ab648321" class="external-link">James Day</a>, Teamworks.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
